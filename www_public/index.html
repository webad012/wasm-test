<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <title>wasm-test example</title>
    <script src="fibonnacci.js"></script>
    <script src="lib.js"></script>
  </head>
  <body>
    <div>
      <div>
        <p>WASM test</p>
        <p>compare performance between js and wasm (rust)</p>
      </div>
      <div>
        <div><span>input number</span><input id="fibonnacci_input" type="number" value="50"></div>
        <div><span>call count</span><input id="fibonnacci_call_count" type="number" value="1000000"></div>
        <button id="fibonnacci_btn_js" type="button" onclick="window.onFibonnacciJs()">Run JS fibonnacci</button>
        <button id="fibonnacci_btn_wasm" type="button" onclick="window.onFibonnacciWasm()">Run WASM fibonnacci</button>
        <p>JS fibonnacci result:</p>
        <p id="js_fibonnacci_result"></p>
        <p>WASM fibonnacci result:</p>
        <p id="wasm_fibonnacci_result"></p>
      </div>
    </div>
    <script type="module">
      import init, { fibonnacci_wasm } from "./pkg/wasm_test.js";
      init().then((obj) => {
        window.fibonnacci_wasm = obj.fibonnacci_wasm;
        alert('fibonnacci_wasm loaded');
      });
    </script>
  </body>
</html>
